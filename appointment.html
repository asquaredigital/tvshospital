<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <meta charset="utf-8">
  <title>Make an Appointment | Dr. TVS Multispeciality Hospital</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" href="images/favicon.png">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/medicom.css">
  <link rel="stylesheet" href="css/light.css" id="choose-theme">
  <link rel="stylesheet" href="css/header.css">

  <style>
    /* ===== Appointment Form Refresh ===== */
    .appointment-sec {
      padding: 60px 0;
      background: #f7faf9;
    }
    .appt-card {
      max-width: 760px;
      margin: 0 auto;
      background: #fff;
      border: 1px solid #e6edf1;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(16,24,40,.06);
      padding: 32px;
    }
    .appointment-sec h1 {
      font-weight: 800;
      text-transform: uppercase;
      letter-spacing: .04em;
      color: #00953F;
      margin-bottom: 8px;
      text-align: center;
    }
    .appointment-sec .lead {
      color: #6b7a89;
      margin-bottom: 28px;
      font-size: 15px;
      text-align: center;
    }
    .form-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }
    .form-grid .full { grid-column: 1 / -1; }
    .appt-card input[type="text"],
    .appt-card input[type="email"],
    .appt-card select,
    .appt-card textarea {
      width: 100%;
      height: 46px;
      border: 1px solid #d7e0e6;
      border-radius: 10px;
      padding: 10px 14px;
      font-size: 15px;
      color: #0f172a;
      background: #fff;
      transition: border-color .2s ease, box-shadow .2s ease;
    }
    .appt-card textarea {
      min-height: 200px;
      resize: vertical;
      line-height: 1.5;
    }
    .appt-card input::placeholder,
    .appt-card textarea::placeholder { color: #9aa7b2; }
    .appt-card input:focus,
    .appt-card select:focus,
    .appt-card textarea:focus {
      outline: none;
      border-color: #00953F;
      box-shadow: 0 0 0 3px rgba(0,149,63,.15);
    }
    .appt-label {
      display: block;
      font-weight: 700;
      font-size: 13px;
      color: #334155;
      margin: 6px 0 6px;
    }
    .appt-submit {
      display: inline-block;
      padding: 12px 22px;
      border-radius: 12px;
      background: #302582;
      color: #fff;
      font-weight: 700;
      border: none;
      transition: transform .1s ease, box-shadow .2s ease, background .2s ease;
    }
    .appt-submit:hover { background: #251c68; }
    .appt-submit:active { transform: translateY(1px); }
    @media (max-width: 767px){
      .form-grid { grid-template-columns: 1fr; }
      .appt-card { padding: 22px; }
    }
  </style>

  <!-- JS -->
  <script src="js/modernizr-2.6.2.min.js"></script>
  <script src="js/jquery.js"></script>
  <script>
    $(function () {
      $("#header1").load("header.html");
      $("#footer").load("footer.html");
    });
  </script>
</head>
<body class="fixed-header">
  <div id="wrapper" class="clearfix">
    <header id="header1"></header>

    <section class="sub-page-banner text-center" data-stellar-background-ratio="0.3">
      <div class="overlay"></div>
      <div class="container">
        <h1 class="entry-title">Make an Appointment</h1>
      </div>
    </section>

    <section class="appointment-sec">
      <div class="container">
        <h1>Make an Appointment</h1>
        <p class="lead">Fill in the details below and submit the form. We will contact you via phone or email to confirm your schedule.</p>

        <div class="appt-card">
          <!-- NOTE: absolute path so it always hits the correct script -->
          <form id="appointment_form" action="" method="post">
            <div class="form-grid">
              <div>
                <label for="u_name" class="appt-label">Name</label>
                <input type="text" name="u_name" id="u_name" placeholder="Your full name" required>
              </div>
              <div>
                <label for="u_email" class="appt-label">Email Address</label>
                <input type="email" name="u_email" id="u_email" placeholder="name@example.com" required>
              </div>
              <div>
                <label for="phone" class="appt-label">Phone</label>
                <input type="text" name="phone" id="phone" placeholder="Phone Number">
              </div>
              <div class="full">
                <label for="doctorSelect" class="appt-label">Select a Doctor</label>
                <select id="doctorSelect" name="doctor" required>
                  <option value="">-- Choose a Doctor --</option>
                  <option value="Dr. T.V. Sathappan">Dr. T.V. Sathappan, M.S., M.Ch., FACS., FICS</option>
                  <option value="Dr. Rajarajan Jayachandran">Dr. Rajarajan Jayachandran, MBBS, MS, MCh</option>
                  <option value="Dr. T. Rajendran">Dr. T. Rajendran, MBBS., DNB</option>
                  <option value="Dr. S. Sangeetha">Dr. S. Sangeetha, MBBS., DGO., FRM</option>
                  <option value="Dr. Amrutha Sathappan">Dr. Amrutha Sathappan, MBBS., M.S., (ENT)</option>
                  <option value="Others">Others</option>
                </select>
              </div>
              <div class="full">
                <label for="message" class="appt-label">Message</label>
                <textarea name="message" id="message" placeholder="Share your symptoms or preferred date/time"></textarea>
              </div>
            </div>

            <div style="margin-top:18px;">
              <input type="submit" class="appt-submit" value="Submit">
            </div>
            <div id="response-message" style="text-align: right; color:#067647; margin-top:10px;"></div>
          </form>
        </div>
      </div>
    </section>

    <footer id="footer"></footer>
    <a href="#." class="back-to-top" id="back-to-top"><i class="fa fa-angle-up"></i></a>
  </div>

  <!-- JS -->
  <script src="js/bootstrap.min.js"></script>
  <script src="js/scripts.js"></script>

  <script>
    $(document).ready(function() {
      $('#appointment_form').submit(function(event) {
        event.preventDefault(); // Prevent full page navigation

        var formData = {
          u_name:  $('#u_name').val(),
          u_email: $('#u_email').val(),
          phone:   $('#phone').val(),
          doctor:  $('#doctorSelect').val(),
          message: $('#message').val()
        };

        $.ajax({
          type: 'POST',
          url: 'appointment.php',        // absolute path
          data: formData,
          dataType: 'json',
          headers: { 'Accept': 'application/json' },
          encode: true,
          timeout: 15000
        })
        .done(function(response) {
          $('#response-message').text(response && response.message ? response.message : 'Submitted.');
          $("#appointment_form").trigger("reset");
          $('#doctorSelect').val('');
        })
        .fail(function(xhr) {
          // Helpful console for debugging (path/WAF/PHP issue)
          console.log('AJAX FAIL:', xhr.status, xhr.statusText, xhr.responseText);
          $('#response-message').css('color', '#b42318')
                                .text('Error occurred while processing the request.');
          // $("#appointment_form").trigger("reset"); // keep data if error
        });
      });
    });
  </script>
</body>
</html>
